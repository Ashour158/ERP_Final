<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete ERP System - Beyond All Major Platforms</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .module-icon { font-size: 2.5rem; margin-bottom: 1rem; }
        .feature-list li { padding: 0.5rem 0; border-bottom: 1px solid #e5e7eb; }
        .feature-list li:last-child { border-bottom: none; }
        .status-indicator { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 8px; }
        .status-online { background-color: #10b981; }
        .status-offline { background-color: #ef4444; }
        .status-away { background-color: #f59e0b; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
            <div class="text-center">
                <div class="animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto"></div>
                <h2 class="text-2xl font-semibold text-gray-900 mt-4">Loading Complete ERP System...</h2>
                <p class="text-gray-600 mt-2">Initializing all 14 modules with full integration</p>
            </div>
        </div>

        <!-- Login Screen -->
        <div id="login-screen" class="min-h-screen gradient-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8" style="display: none;">
            <div class="max-w-md w-full space-y-8">
                <div class="text-center">
                    <h1 class="text-4xl font-bold text-white mb-2">Complete ERP System</h1>
                    <p class="text-indigo-200 text-lg">Beyond Zoho, SAP, Oracle, Dynamics & Odoo Combined</p>
                    <div class="mt-4 text-indigo-100 text-sm">
                        <p>✓ 14 Integrated Modules</p>
                        <p>✓ Universal KPIs & Vigilance System</p>
                        <p>✓ Complete Vendor Management</p>
                        <p>✓ GPS Tracking & Location Services</p>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-xl p-8">
                    <form id="login-form" class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Username</label>
                            <input type="text" id="username" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Password</label>
                            <input type="password" id="password" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="enable-location" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                            <label for="enable-location" class="ml-2 block text-sm text-gray-900">Enable GPS location tracking</label>
                        </div>
                        <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Sign In to ERP System
                        </button>
                    </form>
                    <div class="mt-6 text-center">
                        <p class="text-sm text-gray-600">Demo Credentials:</p>
                        <p class="text-xs text-gray-500">Username: admin | Password: admin123</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="main-app" class="min-h-screen bg-gray-50" style="display: none;">
            <!-- Top Navigation -->
            <nav class="bg-white shadow-sm border-b border-gray-200">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between h-16">
                        <div class="flex items-center">
                            <h1 class="text-xl font-semibold text-gray-900">Complete ERP System</h1>
                            <span class="ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">V2.0</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <!-- Vigilance Alerts -->
                            <div class="relative">
                                <button id="alerts-btn" class="p-2 text-gray-400 hover:text-gray-500 relative">
                                    <i class="fas fa-bell text-lg"></i>
                                    <span id="alert-count" class="absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">3</span>
                                </button>
                            </div>
                            <!-- User Profile -->
                            <div class="flex items-center space-x-3">
                                <img id="user-avatar" class="h-8 w-8 rounded-full" src="https://via.placeholder.com/32" alt="User">
                                <div class="hidden md:block">
                                    <p id="user-name" class="text-sm font-medium text-gray-900">Loading...</p>
                                    <p id="user-role" class="text-xs text-gray-500">Loading...</p>
                                </div>
                                <button id="logout-btn" class="text-gray-400 hover:text-gray-500">
                                    <i class="fas fa-sign-out-alt"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <div class="flex">
                <!-- Sidebar -->
                <div class="w-64 bg-white shadow-sm h-screen overflow-y-auto">
                    <div class="p-4">
                        <div class="space-y-2">
                            <!-- Dashboard -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="dashboard">
                                <i class="fas fa-tachometer-alt w-5 mr-3"></i>
                                Dashboard & KPIs
                            </button>
                            
                            <!-- CRM Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="crm">
                                <i class="fas fa-users w-5 mr-3"></i>
                                CRM & Sales
                            </button>
                            
                            <!-- Finance Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="finance">
                                <i class="fas fa-dollar-sign w-5 mr-3"></i>
                                Finance & Accounting
                            </button>
                            
                            <!-- HR Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="hr">
                                <i class="fas fa-user-tie w-5 mr-3"></i>
                                HR & People
                            </button>
                            
                            <!-- Supply Chain Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="supply-chain">
                                <i class="fas fa-truck w-5 mr-3"></i>
                                Supply Chain
                            </button>
                            
                            <!-- Desk Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="desk">
                                <i class="fas fa-headset w-5 mr-3"></i>
                                Customer Support
                            </button>
                            
                            <!-- Marketing Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="marketing">
                                <i class="fas fa-bullhorn w-5 mr-3"></i>
                                Marketing
                            </button>
                            
                            <!-- Vendor Management -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="vendors">
                                <i class="fas fa-handshake w-5 mr-3"></i>
                                Vendor Management
                            </button>
                            
                            <!-- Contracts Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="contracts">
                                <i class="fas fa-file-contract w-5 mr-3"></i>
                                Contracts
                            </button>
                            
                            <!-- Digital Signature -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="signature">
                                <i class="fas fa-signature w-5 mr-3"></i>
                                Digital Signature
                            </button>
                            
                            <!-- Surveys Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="surveys">
                                <i class="fas fa-poll w-5 mr-3"></i>
                                Surveys
                            </button>
                            
                            <!-- Community Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="community">
                                <i class="fas fa-comments w-5 mr-3"></i>
                                Internal Community
                            </button>
                            
                            <!-- Business Analysis -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="analytics">
                                <i class="fas fa-chart-line w-5 mr-3"></i>
                                Business Analysis
                            </button>
                            
                            <!-- Compliance Module -->
                            <button class="module-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 flex items-center" data-module="compliance">
                                <i class="fas fa-shield-alt w-5 mr-3"></i>
                                Compliance & Quality
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="flex-1 p-6">
                    <div id="content-area">
                        <!-- Dashboard Content (Default) -->
                        <div id="dashboard-content" class="module-content">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Executive Dashboard</h2>
                                <p class="text-gray-600">Complete overview of all 14 integrated modules with real-time KPIs</p>
                            </div>

                            <!-- KPI Cards -->
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                <div class="bg-white rounded-lg shadow p-6 card-hover">
                                    <div class="flex items-center">
                                        <div class="p-2 bg-blue-100 rounded-lg">
                                            <i class="fas fa-users text-blue-600 text-xl"></i>
                                        </div>
                                        <div class="ml-4">
                                            <p class="text-sm font-medium text-gray-600">Total Customers</p>
                                            <p class="text-2xl font-semibold text-gray-900">1,247</p>
                                            <p class="text-sm text-green-600">↑ 12% from last month</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-white rounded-lg shadow p-6 card-hover">
                                    <div class="flex items-center">
                                        <div class="p-2 bg-green-100 rounded-lg">
                                            <i class="fas fa-dollar-sign text-green-600 text-xl"></i>
                                        </div>
                                        <div class="ml-4">
                                            <p class="text-sm font-medium text-gray-600">Monthly Revenue</p>
                                            <p class="text-2xl font-semibold text-gray-900">$847K</p>
                                            <p class="text-sm text-green-600">↑ 8% from last month</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-white rounded-lg shadow p-6 card-hover">
                                    <div class="flex items-center">
                                        <div class="p-2 bg-yellow-100 rounded-lg">
                                            <i class="fas fa-ticket-alt text-yellow-600 text-xl"></i>
                                        </div>
                                        <div class="ml-4">
                                            <p class="text-sm font-medium text-gray-600">Open Tickets</p>
                                            <p class="text-2xl font-semibold text-gray-900">23</p>
                                            <p class="text-sm text-red-600">↑ 3 from yesterday</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-white rounded-lg shadow p-6 card-hover">
                                    <div class="flex items-center">
                                        <div class="p-2 bg-purple-100 rounded-lg">
                                            <i class="fas fa-user-tie text-purple-600 text-xl"></i>
                                        </div>
                                        <div class="ml-4">
                                            <p class="text-sm font-medium text-gray-600">Active Employees</p>
                                            <p class="text-2xl font-semibold text-gray-900">156</p>
                                            <p class="text-sm text-green-600">↑ 2 new hires</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Module Overview -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                                <!-- System Status -->
                                <div class="bg-white rounded-lg shadow p-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">System Status & Vigilance</h3>
                                    <div class="space-y-3">
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-gray-600">All Modules</span>
                                            <span class="flex items-center text-sm text-green-600">
                                                <span class="status-indicator status-online"></span>
                                                Online
                                            </span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-gray-600">Database</span>
                                            <span class="flex items-center text-sm text-green-600">
                                                <span class="status-indicator status-online"></span>
                                                Healthy
                                            </span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-gray-600">GPS Tracking</span>
                                            <span class="flex items-center text-sm text-green-600">
                                                <span class="status-indicator status-online"></span>
                                                Active
                                            </span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-gray-600">Vigilance System</span>
                                            <span class="flex items-center text-sm text-yellow-600">
                                                <span class="status-indicator status-away"></span>
                                                3 Alerts
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Recent Activity -->
                                <div class="bg-white rounded-lg shadow p-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Recent Activity</h3>
                                    <div class="space-y-3">
                                        <div class="flex items-center space-x-3">
                                            <img class="h-8 w-8 rounded-full" src="https://via.placeholder.com/32" alt="">
                                            <div class="flex-1">
                                                <p class="text-sm text-gray-900">John Doe created a new customer</p>
                                                <p class="text-xs text-gray-500">2 minutes ago</p>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <img class="h-8 w-8 rounded-full" src="https://via.placeholder.com/32" alt="">
                                            <div class="flex-1">
                                                <p class="text-sm text-gray-900">Sarah Smith processed payroll</p>
                                                <p class="text-xs text-gray-500">15 minutes ago</p>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <img class="h-8 w-8 rounded-full" src="https://via.placeholder.com/32" alt="">
                                            <div class="flex-1">
                                                <p class="text-sm text-gray-900">Mike Johnson checked in at customer site</p>
                                                <p class="text-xs text-gray-500">1 hour ago</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Module Grid -->
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                                <!-- CRM Module Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('crm')">
                                    <div class="text-center">
                                        <i class="fas fa-users module-icon text-blue-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">CRM & Sales</h3>
                                        <p class="text-sm text-gray-600 mt-2">Customer management with GPS tracking and forecasting</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">1,247 Customers</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Finance Module Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('finance')">
                                    <div class="text-center">
                                        <i class="fas fa-dollar-sign module-icon text-green-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">Finance</h3>
                                        <p class="text-sm text-gray-600 mt-2">Advanced accounting with multi-currency and risk mitigation</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">$847K Revenue</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- HR Module Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('hr')">
                                    <div class="text-center">
                                        <i class="fas fa-user-tie module-icon text-purple-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">HR & People</h3>
                                        <p class="text-sm text-gray-600 mt-2">Complete HR with L&D, payroll, and GPS attendance</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">156 Employees</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Supply Chain Module Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('supply-chain')">
                                    <div class="text-center">
                                        <i class="fas fa-truck module-icon text-orange-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">Supply Chain</h3>
                                        <p class="text-sm text-gray-600 mt-2">Advanced inventory with courier management and tracking</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">2,341 Items</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Desk Module Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('desk')">
                                    <div class="text-center">
                                        <i class="fas fa-headset module-icon text-yellow-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">Customer Support</h3>
                                        <p class="text-sm text-gray-600 mt-2">Multi-channel ticketing with GPS work orders</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-yellow-600 font-medium">23 Open Tickets</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Marketing Module Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('marketing')">
                                    <div class="text-center">
                                        <i class="fas fa-bullhorn module-icon text-pink-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">Marketing</h3>
                                        <p class="text-sm text-gray-600 mt-2">E-commerce and social media campaign management</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">12 Campaigns</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Vendor Management Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('vendors')">
                                    <div class="text-center">
                                        <i class="fas fa-handshake module-icon text-indigo-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">Vendor Management</h3>
                                        <p class="text-sm text-gray-600 mt-2">Integrated vendor management across all modules</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">89 Vendors</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Business Analysis Card -->
                                <div class="bg-white rounded-lg shadow p-6 card-hover cursor-pointer" onclick="switchModule('analytics')">
                                    <div class="text-center">
                                        <i class="fas fa-chart-line module-icon text-teal-600"></i>
                                        <h3 class="text-lg font-semibold text-gray-900">Business Analysis</h3>
                                        <p class="text-sm text-gray-600 mt-2">Cross-module intelligence and predictive analytics</p>
                                        <div class="mt-4 text-sm">
                                            <span class="text-green-600 font-medium">47 Reports</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Other Module Contents (Hidden by default) -->
                        <div id="crm-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">CRM & Sales Management</h2>
                                <p class="text-gray-600">Customer relationship management with GPS tracking and advanced forecasting</p>
                            </div>
                            
                            <div class="bg-white rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">Customer Overview</h3>
                                <div class="text-center py-8">
                                    <i class="fas fa-users text-6xl text-blue-600 mb-4"></i>
                                    <p class="text-gray-600">CRM module with customer management, deal tracking, GPS check-ins, and multi-level quote approvals.</p>
                                    <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                                        Manage Customers
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Add similar content blocks for other modules -->
                        <div id="finance-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Finance & Accounting</h2>
                                <p class="text-gray-600">Advanced financial management beyond Oracle NetSuite</p>
                            </div>
                            
                            <div class="bg-white rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">Financial Overview</h3>
                                <div class="text-center py-8">
                                    <i class="fas fa-dollar-sign text-6xl text-green-600 mb-4"></i>
                                    <p class="text-gray-600">Complete financial management with multi-currency support, risk mitigation, and vendor payment processing.</p>
                                    <button class="mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">
                                        View Financials
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Continue with other modules... -->
                        <div id="hr-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">HR & People Management</h2>
                                <p class="text-gray-600">Comprehensive HR with L&D, payroll, and GPS attendance tracking</p>
                            </div>
                            
                            <div class="bg-white rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">Employee Overview</h3>
                                <div class="text-center py-8">
                                    <i class="fas fa-user-tie text-6xl text-purple-600 mb-4"></i>
                                    <p class="text-gray-600">Complete HR management with GPS attendance, L&D programs, payroll processing, and employee lifecycle management.</p>
                                    <button class="mt-4 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700">
                                        Manage Employees
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Add placeholder content for remaining modules -->
                        <div id="supply-chain-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Supply Chain Management</h2>
                                <p class="text-gray-600">Advanced inventory management with courier integration</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-truck text-6xl text-orange-600 mb-4"></i>
                                    <p class="text-gray-600">Complete supply chain management with batch tracking, temperature monitoring, and courier management.</p>
                                </div>
                            </div>
                        </div>

                        <div id="desk-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Customer Support</h2>
                                <p class="text-gray-600">Multi-channel ticketing system with GPS work orders</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-headset text-6xl text-yellow-600 mb-4"></i>
                                    <p class="text-gray-600">Advanced customer support with multi-channel ticketing, SLA management, and GPS-enabled work orders.</p>
                                </div>
                            </div>
                        </div>

                        <div id="marketing-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Marketing Management</h2>
                                <p class="text-gray-600">E-commerce and social media campaign management</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-bullhorn text-6xl text-pink-600 mb-4"></i>
                                    <p class="text-gray-600">Comprehensive marketing automation with e-commerce features and social media management.</p>
                                </div>
                            </div>
                        </div>

                        <div id="vendors-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Vendor Management</h2>
                                <p class="text-gray-600">Integrated vendor management across all modules</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-handshake text-6xl text-indigo-600 mb-4"></i>
                                    <p class="text-gray-600">Complete vendor lifecycle management with performance tracking and risk assessment.</p>
                                </div>
                            </div>
                        </div>

                        <div id="contracts-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Contract Management</h2>
                                <p class="text-gray-600">AI-powered contract analysis and management</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-file-contract text-6xl text-blue-600 mb-4"></i>
                                    <p class="text-gray-600">Advanced contract management with AI analysis and automated workflows.</p>
                                </div>
                            </div>
                        </div>

                        <div id="signature-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Digital Signature</h2>
                                <p class="text-gray-600">OCR-enabled digital signature with auto-archiving</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-signature text-6xl text-green-600 mb-4"></i>
                                    <p class="text-gray-600">Digital signature system with OCR, auto-archiving, and certificate generation.</p>
                                </div>
                            </div>
                        </div>

                        <div id="surveys-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Survey Management</h2>
                                <p class="text-gray-600">Multi-channel survey distribution and analytics</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-poll text-6xl text-purple-600 mb-4"></i>
                                    <p class="text-gray-600">Comprehensive survey management with AI-powered insights and multi-channel distribution.</p>
                                </div>
                            </div>
                        </div>

                        <div id="community-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Internal Community</h2>
                                <p class="text-gray-600">Social platform with location sharing and mentioning</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-comments text-6xl text-blue-600 mb-4"></i>
                                    <p class="text-gray-600">Internal social platform with location sharing, mentioning, and unlimited media support.</p>
                                </div>
                            </div>
                        </div>

                        <div id="analytics-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Business Analysis</h2>
                                <p class="text-gray-600">Cross-module intelligence and predictive analytics</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-chart-line text-6xl text-teal-600 mb-4"></i>
                                    <p class="text-gray-600">Advanced business intelligence with cross-module data analysis and predictive insights.</p>
                                </div>
                            </div>
                        </div>

                        <div id="compliance-content" class="module-content" style="display: none;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold text-gray-900">Compliance & Quality</h2>
                                <p class="text-gray-600">Complete ISO 9001 compliance and quality management</p>
                            </div>
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="text-center py-8">
                                    <i class="fas fa-shield-alt text-6xl text-red-600 mb-4"></i>
                                    <p class="text-gray-600">Comprehensive compliance management with ISO 9001 features and audit tracking.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let authToken = null;
        const API_BASE = '/api';

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            // Check for existing session
            const token = localStorage.getItem('auth_token');
            if (token) {
                authToken = token;
                loadUserProfile();
            } else {
                showLogin();
            }

            // Setup event listeners
            setupEventListeners();
        });

        function setupEventListeners() {
            // Login form
            document.getElementById('login-form').addEventListener('submit', handleLogin);
            
            // Logout button
            document.getElementById('logout-btn').addEventListener('click', handleLogout);
            
            // Module buttons
            document.querySelectorAll('.module-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const module = e.currentTarget.dataset.module;
                    switchModule(module);
                });
            });

            // Alerts button
            document.getElementById('alerts-btn').addEventListener('click', showAlerts);
        }

        async function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const enableLocation = document.getElementById('enable-location').checked;
            
            let location = null;
            if (enableLocation && navigator.geolocation) {
                try {
                    const position = await getCurrentPosition();
                    location = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude,
                        address: 'Current Location'
                    };
                } catch (error) {
                    console.warn('Could not get location:', error);
                }
            }

            try {
                const response = await fetch(`${API_BASE}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username,
                        password,
                        location
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    authToken = data.access_token;
                    currentUser = data.user;
                    localStorage.setItem('auth_token', authToken);
                    showMainApp();
                    updateUserProfile();
                } else {
                    alert(data.error || 'Login failed');
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('Login failed. Please try again.');
            }
        }

        function getCurrentPosition() {
            return new Promise((resolve, reject) => {
                navigator.geolocation.getCurrentPosition(resolve, reject);
            });
        }

        async function loadUserProfile() {
            try {
                const response = await fetch(`${API_BASE}/auth/profile`, {
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    currentUser = data.user;
                    showMainApp();
                    updateUserProfile();
                } else {
                    showLogin();
                }
            } catch (error) {
                console.error('Profile load error:', error);
                showLogin();
            }
        }

        function handleLogout() {
            authToken = null;
            currentUser = null;
            localStorage.removeItem('auth_token');
            showLogin();
        }

        function showLogin() {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('login-screen').style.display = 'flex';
            document.getElementById('main-app').style.display = 'none';
        }

        function showMainApp() {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('main-app').style.display = 'block';
        }

        function updateUserProfile() {
            if (currentUser) {
                document.getElementById('user-name').textContent = `${currentUser.first_name} ${currentUser.last_name}`;
                document.getElementById('user-role').textContent = currentUser.role.charAt(0).toUpperCase() + currentUser.role.slice(1);
                
                if (currentUser.profile_picture) {
                    document.getElementById('user-avatar').src = currentUser.profile_picture;
                }
            }
        }

        function switchModule(module) {
            // Hide all module contents
            document.querySelectorAll('.module-content').forEach(content => {
                content.style.display = 'none';
            });

            // Show selected module content
            const moduleContent = document.getElementById(`${module}-content`);
            if (moduleContent) {
                moduleContent.style.display = 'block';
            }

            // Update active state in sidebar
            document.querySelectorAll('.module-btn').forEach(btn => {
                btn.classList.remove('bg-indigo-100', 'text-indigo-700');
                btn.classList.add('text-gray-700');
            });

            const activeBtn = document.querySelector(`[data-module="${module}"]`);
            if (activeBtn) {
                activeBtn.classList.remove('text-gray-700');
                activeBtn.classList.add('bg-indigo-100', 'text-indigo-700');
            }
        }

        function showAlerts() {
            alert('Vigilance System Alerts:\n\n1. High-value invoice created ($15,000)\n2. Vendor performance below threshold\n3. Employee overtime threshold exceeded\n\nClick OK to acknowledge alerts.');
            
            // Update alert count
            document.getElementById('alert-count').textContent = '0';
            document.getElementById('alert-count').style.display = 'none';
        }

        // API helper function
        async function apiCall(endpoint, options = {}) {
            const config = {
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${authToken}`
                },
                ...options
            };

            try {
                const response = await fetch(`${API_BASE}${endpoint}`, config);
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error || 'API call failed');
                }
                
                return data;
            } catch (error) {
                console.error('API call error:', error);
                throw error;
            }
        }

        // Hide loading screen after 2 seconds
        setTimeout(() => {
            document.getElementById('loading').style.display = 'none';
            
            // Check for auth token
            const token = localStorage.getItem('auth_token');
            if (token) {
                authToken = token;
                // In a real app, validate token here
                showMainApp();
                // Mock user data for demo
                currentUser = {
                    first_name: 'Demo',
                    last_name: 'User',
                    role: 'admin',
                    profile_picture: 'https://via.placeholder.com/32'
                };
                updateUserProfile();
            } else {
                showLogin();
            }
        }, 2000);
    </script>
</body>
</html>

